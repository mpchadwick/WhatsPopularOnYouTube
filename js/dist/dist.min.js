"use strict";if(angular.module("myApp",["ngRoute","myApp.filters","myApp.services","myApp.directives","myApp.controllers"]).config(function(a,b){b.resourceUrlWhitelist(["self","http://www.youtube.com/**","http://i1.ytimg.com/**","http://api.wordnik.com:80/**"]),a.when("/",{controller:"MainCtrl",templateUrl:"partials/partial1.html"}).otherwise({redirectTo:"/"})}),angular.module("myApp.controllers",[]).controller("MainCtrl",["$scope","$http","$routeParams","$location",function(a,b){function c(a){for(;/(\d+)(\d{3})/.test(a.toString());)a=a.toString().replace(/(\d+)(\d{3})/,"$1,$2");return a}b.get("js/regions.json").success(function(b){a.regions=b}),b.get("js/categories.json").success(function(b){a.categories=b}),a.place="WW",a.curCategory="All",a.time="today";var d="http://gdata.youtube.com/feeds/standardfeeds/",e="https://gdata.youtube.com/feeds/api/videos";a.getData=function(){var e="WW"===a.place?"":a.place+"/",f="All"===a.curCategory?"":"_"+a.curCategory,g=a.time,h=10,i=d+e+"most_popular"+f+"?alt=json&time="+g+"&max-results="+h;b.get(i).success(function(b){angular.forEach(b.feed.entry,function(a){a.yt$statistics.viewCount=c(a.yt$statistics.viewCount),a.vidSrc="http://www.youtube.com/embed/"+a.media$group.yt$videoid.$t,a.rating=a.gd$rating?Math.round(10*a.gd$rating.average)/10:"N/A";var b=a.media$group.yt$duration.seconds,d=Math.floor(b/60),e=b-60*d;a.duration=d+":"+e,a.description=a.media$group.media$description.$t}),a.entries=b.feed.entry})},a.getData();var f=100,g="720595cadd0346704c00b0c603303402eccccc35e47f9f103",h="http://api.wordnik.com:80/v4/words.json/randomWord?hasDictionaryDef=true&minutes="+f+"&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=0&maxLength=-1&api_key="+g;a.getRandomVideos=function(){b.get(h).success(function(b){a.randomWord=b.word})};var i=10;a.$watch("randomWord",function(c){if(c){var d=e+"?q="+c+"&alt=json&max-results="+i;b.get(d).success(function(b){console.log(b.feed),a.nvs=b.feed.entry})}}),window.innerWidth>799?a.getRandomVideos():window.onresize=function(){window.innerWidth>799&&(a.getRandomVideos(),window.onresize=function(){})}}]),!Modernizr.svg){var HTML='<img src="img/logo.jpg" alt="logo" width="299" height="134" />';document.getElementById("logo").innerHTML=HTML}angular.module("myApp.directives",[]).directive("appVersion",["version",function(a){return function(b,c){c.text(a)}}]).directive("nonSuckyYoutubeEmbed",function(){var a={restrict:"E",template:'<div style="position: relative;"><img style="position: absolute; left: 50%; top: 50%; width: 48px; height: 48px; margin-left: -24px; margin-top: -24px; cursor: pointer;" alt="Play" src="img/play-btn.png" /><img src="http://i.ytimg.com/vi/{{id}}/0.jpg" style="width: 100%; height: auto; display: inline; cursor: pointer" alt="" /></div>',scope:{id:"@id"},link:function(a,b,c){c.$observe("id",function(a){if(a){var d=c.height?c.height:390,e=c.width?c.width:640,f=d/e*100+"%",g="position: absolute; top: 0; left: 0; width: 100%; height: 100%",h="position: relative; padding-bottom: "+f+"; padding-top: 30px; height: 0; overflow: hidden;";b.on("click",function(){var c='<iframe type="text/html" style="'+g+'" width="'+e+'" height="'+d+'" src="http://youtube.com/embed/'+a+'?autoplay=1" frameborder="0" />',f='<div style="'+h+'">'+c+"</div>";b.html(f)})}})}};return a}),angular.module("myApp.filters",[]).filter("truncate",function(){return function(a,b,c){return b=isNaN(b)?"10":b,c=void 0===c?"...":c,a.length<=b||a.length-c.length<=b?a:a.substring(0,b-c.length)+c}}),angular.module("myApp.services",[]).value("version","0.1");